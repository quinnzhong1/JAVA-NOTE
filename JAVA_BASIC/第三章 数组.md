# 第三章 数组array

## 概念
* 数组名
* 索引index
* 元素element
* 长度length

## 特点
* 有序排列，连续存储
* 属于引用数据类型变量
* 相同类型
  * 可以是基本数据类型，也可以是引用数据类型
* search方便
* 长度确定后不能改

## 分类
* 一位数组、二维数组。。。
* 基本数据类型数组，引用数据类型数组

## 举例
```java
int num;
num = 10;
int id = 1001;

int[] ids;//声明
//static initialization: 初始化和元素赋值同时进行
ids = new int[] {1001, 1002, 1003, 1004};

//dynamic initialization： 初始化和赋值分开进行
String[] names = new String[5];
int[] i = {1, 2, 3};

//错误
//int[] a = new int[];
//int[5] a = new int[5];
//int[] a = new int[3]{1, 2, 3};

names[0] = "wang";
names[1] = "chen";
names[2] = "zhang";
names[3] = "sun";
names[4] = "li";

//length
System.out.println(names.length); //5

//遍历
for (int i = 0; i < 5; i++) {
    System.out.println(names[i]);
}
```
## 各种类型默认初始化
`int[] a = new int[5]` 这个里面已经都初始化为0了 
* **整型**：0
* **浮点型**：0.0
* **char**：0 or ‘\u0000'（ANSLL）
* **boolean**：false
* **引用类型**（比如String）：null

## 简单内存解析
* **stack 栈**
  * 线性，先进先出FIFO，存放局部变量
* **heap 堆**
  * new 出来的结构 - 对象或者数组
* **方法区**
  * 常量值 + 静态域

## 数组内存解析
* **数组声明**
  * 数组名指针存在stack里，存入分配的数组内存（在heap里）的地址
  * 当stack的变量被删除，指针没有了，heap的那个内存也将被清理掉

## 多维数组
* 其实就是用数组作为另一个数组的元素
* 外层数组的每个元素存的是内层数组的地址
* **举例**
    ```java
    //static initialization
    int[][] a = new int[][]{{1, 2, 3}, {4, 5}};
    //dynamic initialization
    String[][] s = new String[3][2];
    String[][] s2 = new String[3][];
    //error
    //String[][] s3 = new String[][4];
    //String[4][3] s4 = new String[][];
    //int[][] arr = new int[4][3]{{0}};
    int[] arr[] = new int[][]{{1}, {2}};
    int[] a2[] = {{1, 2}, {3}};

    //调用
    //arr[0][0]

    //没有分配的数组，会报错
    
    //length
    System.out.println(a.length); //2
    System.out.println(a[0].length); //3

    //遍历
    for (int i = 0; i < a.length; i++) {
        for (int j = 0; j < a[i].length; j++) {
            System.out.println(a[i][j].length);
        }
        System.out.println("\n");
    }
    System.out.println(s2[0]) // null
    System.out.println(s2[0][0]) // error
    ```
* **二维数组默认初始化值**
  * 地址
  * `System.out.println(arr)` -- 出来的是arr存的那个在heap里分配的数组的地址
* **二维数组内存解析**
  
    stack放入arr变量，存入外层数组地址，若一开始内层数组没有分配多大内存，则外层数组每个元素初始化为null；

    内层数组分配内存后，外层数组每个元素都存入相应内存数组的地址，内层数组的状态和一维数组一样。
